<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtre de Personnages - SWGOH</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(180deg, #071428, #0b2540);
            color: #e6f0ff;
            font-family: 'Inter', Arial, sans-serif;
        }

        h1,
        h2 {
            color: #ffcc33;
            text-align: center;
            margin-bottom: 1rem;
        }

        .section {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 12px;
            margin-top: 2rem;
        }

        .img-placeholder {
            display: block;
            width: 80%;
            margin: 15px auto;
            border-radius: 12px;
            border: 1px solid #444;
        }

        .btn-back {
            background-color: #ffcc33;
            color: #071428;
            font-weight: bold;
            border-radius: 10px;
            padding: 10px 20px;
            margin-top: 20px;
            transition: 0.3s;
        }

        .btn-back:hover {
            background-color: #e6b800;
            color: #fff;
        }

        code {
            background-color: #1e1e1e;
            color: #00ffcc;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.95em;
            word-break: break-word;
        }

        pre {
            background: #111;
            color: #0f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: monospace;
        }
    </style>
</head>

<body>
    <div class="container py-5">
        <h1><u>Page de filtrage des personnages - SWGOH</u></h1>

        <!-- Pr√©sentation g√©n√©rale -->
        <div class="section">
            <h2>Pr√©sentation</h2>
            <p>
                Cette page interactive permet de <strong>filtrer, rechercher et afficher dynamiquement</strong> les
                personnages du jeu
                <em>Star Wars: Galaxy of Heroes</em> √† partir du fichier <code>units.json</code> g√©n√©r√© par la base de
                donn√©es.
            </p>
            <p>
                Elle offre un syst√®me de tri complet bas√© sur les <strong>factions</strong>, <strong>r√¥les</strong>,
                <strong>alignements</strong>,
                ainsi qu‚Äôune recherche en texte libre et par <strong>tags personnalis√©s</strong>.
            </p>
            <img src="image-projet/filtre-personnage-swgoh.png" alt="Page de filtrage SWGOH" class="img-placeholder">
            <p class="mt-3 text-center">
                Interface principale du filtre : √† gauche les filtres, √† droite les r√©sultats.
            </p>
        </div>

        <!-- Structure de la page -->
        <div class="section">
            <h2>Structure g√©n√©rale</h2>
            <p>
                La page est divis√©e en deux grandes zones :
            </p>
            <ul>
                <li><strong>La barre lat√©rale (gauche)</strong> : contient les diff√©rents filtres et outils de
                    recherche.</li>
                <li><strong>Le contenu principal (droite)</strong> : affiche dynamiquement les cartes des personnages
                    correspondant aux crit√®res.</li>
            </ul>

            <p>
                L‚Äôensemble est g√©r√© en JavaScript pur et met √† jour l‚Äôaffichage sans recharger la page, gr√¢ce √† la
                manipulation du DOM.
            </p>
        </div>

        <!-- Filtres et interface -->
        <div class="section">
            <h2>Interface des filtres</h2>

            <p>
                Les filtres sont regroup√©s dans des bo√Ætes distinctes (<code>.filter-box</code>) et permettent de
                combiner plusieurs crit√®res :
            </p>

            <ul>
                <li><strong>Factions :</strong> g√©n√©r√©es automatiquement √† partir des donn√©es du JSON.</li>
                <li><strong>R√¥le et Alignement :</strong> s√©lectionnables via des listes d√©roulantes (en anglais et
                    fran√ßais).</li>
                <li><strong>Recherche :</strong> champ texte pour filtrer par nom de personnage.</li>
                <li><strong>Tags personnalis√©s :</strong> possibilit√© d‚Äôajouter plusieurs tags pour combiner plusieurs
                    filtres rapidement.</li>
                <li><strong>Bouton de r√©initialisation :</strong> permet d‚Äôeffacer tous les filtres actifs.</li>
            </ul>

            <p class="mt-3">
                Chaque changement de filtre d√©clenche une fonction JavaScript (<code>applyFilters()</code>) qui
                reconstruit dynamiquement
                la liste des cartes affich√©es √† droite.
            </p>
        </div>

        <!-- Gestion du JSON -->
        <div class="section">
            <h2>Chargement des donn√©es JSON</h2>
            <p>
                Les informations affich√©es sont charg√©es depuis le fichier <code>units.json</code>, g√©n√©r√© par la base
                de donn√©es d‚Äôadministration.
            </p>
            <p>
                Le chargement s‚Äôeffectue via la fonction suivante :
            </p>

            <pre>
fetch("units.json")
  .then(res => res.json())
  .then(data => {
    characters = data;
    applyLanguageOnLoad(); // Application automatique de la langue
  })
  .catch(err => console.error("Erreur de chargement du JSON :", err));
      </pre>

            <p>
                Chaque personnage est ensuite trait√© pour extraire son <strong>nom</strong>, <strong>r√¥le</strong>,
                <strong>alignement</strong> et <strong>liste de factions</strong>.
            </p>

            <img src="image-projet/exemple-json.jpg" alt="Exemple de chargement JSON" class="img-placeholder">
        </div>

        <!-- Gestion multilingue -->
        <div class="section">
            <h2>Gestion multilingue (Fran√ßais / Anglais)</h2>
            <p>
                Le syst√®me propose un <strong>basculement instantan√© entre le fran√ßais et l‚Äôanglais</strong> gr√¢ce √†
                deux drapeaux situ√©s en haut de la barre lat√©rale.
            </p>

            <ul>
                <li>Le choix de langue est enregistr√© dans <code>sessionStorage</code> pour persister entre les pages.
                </li>
                <li>Le texte statique (titres, boutons, placeholders) est mis √† jour par la fonction
                    <code>updateStaticText()</code>.</li>
                <li>Les noms des personnages, r√¥les, alignements et factions sont affich√©s dans la langue s√©lectionn√©e.
                </li>
            </ul>
        </div>

        <!-- Recherche et tags -->
        <div class="section">
            <h2>Recherche et syst√®me de tags</h2>

            <p>
                L‚Äôutilisateur peut rechercher un personnage en tapant son nom ou en ajoutant des <strong>tags
                    personnalis√©s</strong>
                (ex. : ‚Äúrebelle‚Äù, ‚Äútank‚Äù, ‚Äúlightside‚Äù‚Ä¶).
            </p>
            <p>
                Les tags peuvent correspondre √† :
            </p>
            <ul>
                <li>Une <strong>faction</strong></li>
                <li>Un <strong>r√¥le</strong></li>
                <li>Un <strong>alignement</strong></li>
                <li>Une partie du nom du personnage</li>
            </ul>

            <p>
                Chaque tag ajout√© est affich√© en haut de la zone de r√©sultats sous forme de <code>badge</code>
                cliquable.
                Cliquer dessus permet de le supprimer instantan√©ment et de rafra√Æchir les r√©sultats.
            </p>

        </div>

        <!-- Affichage des r√©sultats -->
        <div class="section">
            <h2>Affichage des r√©sultats</h2>

            <p>
                Les personnages correspondant aux crit√®res sont affich√©s sous forme de <strong>cartes
                    dynamiques</strong>.
            </p>

            <ul>
                <li>Chaque carte affiche :
                    <ul>
                        <li>l‚Äôimage du personnage</li>
                        <li>son nom (langue s√©lectionn√©e)</li>
                        <li>son identifiant interne (<code>id</code>)</li>
                        <li>son r√¥le, alignement et factions</li>
                        <li>un bouton <strong>D√©tails</strong> menant vers la page descriptive</li>
                    </ul>
                </li>
                <li>Le tri des factions est effectu√© en fonction de leur priorit√© :
                    <code>Galactic Legend ‚Üí Leader ‚Üí Fleet Commander ‚Üí autres</code>.
                </li>
            </ul>

            <img src="image-projet/tri-bad-batch.jpg" alt="Exemple de chargement JSON" class="img-placeholder">
            <p>Ici, on peut voir qu'avec le filtrage <strong>Factions : bad batd</strong> avec le <strong> R√¥le :
                    attacker</strong> et l'<strong>Alignement : Light Side</strong> On obtient 4 unit√© qui correspondent
                √† ce filtrage : Batcher / Crosshair (Scarred) / Hunter et Omega</p>

            <p>
                Si aucun personnage ne correspond, un message <em>‚ÄúAucun personnage trouv√©‚Äù</em> (ou ‚ÄúNo characters
                found‚Äù) s‚Äôaffiche selon la langue active.
            </p>
        </div>

        <!-- Fonctionnement global -->
        <div class="section">
            <h2>Fonctionnement global</h2>

            <p>
                Le processus global de filtrage fonctionne selon les √©tapes suivantes :
            </p>
            <ol>
                <li>Chargement du fichier <code>units.json</code></li>
                <li>Application automatique de la langue en cours</li>
                <li>G√©n√©ration dynamique des filtres de factions</li>
                <li>Application des filtres actifs via <code>applyFilters()</code></li>
                <li>Affichage ou mise √† jour des cartes dans la zone principale</li>
            </ol>

            <p>
                Tout se fait c√¥t√© client (front-end) sans rechargement de page ni interaction directe avec la base SQL.
                Les performances sont assur√©es par la structure optimis√©e du fichier JSON.
            </p>
        </div>

        
        <!-- Comparaison et √©volution -->
<div class="section">
    <h2>Comparaison et √©volution du syst√®me de filtrage</h2>

    <p>
        Le syst√®me actuel de filtrage des personnages repr√©sente la <strong>version finale et la plus aboutie</strong> du projet <em>SWGOH Kit</em>.
        Il a √©t√© con√ßu apr√®s plusieurs it√©rations et r√©flexions sur la mani√®re d‚Äôafficher, trier et rechercher efficacement les unit√©s du jeu.
        Avant cette version dynamique, une <strong>ancienne version statique</strong> avait √©t√© r√©alis√©e : elle reposait sur une simple table HTML contenant manuellement les liens vers les pages de chaque faction.
    </p>

    <p>
        Cette version initiale, bien que fonctionnelle, posait des limites √©videntes en mati√®re d‚Äô√©volutivit√© et d‚Äôautomatisation.
        Le passage √† la version actuelle marque une <strong>transition majeure entre une approche manuelle et une approche orient√©e donn√©es</strong>, o√π les informations sont charg√©es automatiquement depuis un fichier JSON.
    </p>

    <p class="mt-3 text-center fst-italic">
        Le tableau suivant illustre les principales <strong>diff√©rences, √©volutions, avantages et inconv√©nients</strong> entre ces deux approches.
    </p>

    <div class="table-responsive mt-4">
        <table class="table table-bordered table-dark table-striped align-middle text-center">
            <thead>
                <tr style="background-color:#ffcc33; color:#071428;">
                    <th>Crit√®re</th>
                    <th>Ancienne version (statique)</th>
                    <th>Nouvelle version (dynamique)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Structure g√©n√©rale</strong></td>
                    <td>
                        La page reposait sur un grand tableau HTML dans lequel <strong>chaque lien vers une faction √©tait √©crit manuellement</strong>.
                        La structure √©tait simple mais fig√©e : toute modification (nouvelle faction, changement de nom, ajout d‚Äôun r√¥le)
                        n√©cessitait d‚Äô√©diter directement le code source.
                        <br><br>
                        üîó <a href="../projet/swgoh-ancienne-version/filtre-personnage.html" target="_blank">Voir l‚Äôancienne version</a>
                    </td>
                    <td>
                        L‚Äôinterface est d√©sormais <strong>g√©n√©r√©e automatiquement via JavaScript</strong> √† partir d‚Äôun fichier JSON
                        (<code>units.json</code>) contenant la liste compl√®te des personnages et de leurs attributs.
                        Cela permet d‚Äôajouter ou de modifier des donn√©es sans toucher au code HTML.
                        <br><br>
                        üîó <a href="https://e-rimbault.github.io/swgoh-kit/filtre-recherche/filtre-personnage.html" target="_blank">Voir la version actuelle</a>
                    </td>
                </tr>

                <tr>
                    <td><strong>Gestion des donn√©es</strong></td>
                    <td>
                        Les cat√©gories et factions √©taient <strong>√©crites en dur dans le code</strong>.  
                        Le fichier n‚Äô√©tait qu‚Äôun assemblage de liens HTML, sans logique de traitement ou de filtrage.
                        L‚Äôajout d‚Äôune faction impliquait de copier une ligne enti√®re de code.
                    </td>
                    <td>
                        Les donn√©es sont <strong>charg√©es dynamiquement</strong> depuis un fichier JSON centralis√©.
                        Le JavaScript lit les propri√©t√©s des personnages et cr√©e automatiquement les filtres correspondants.
                        Ainsi, le syst√®me est <strong>enti√®rement automatis√© et r√©actif aux nouvelles donn√©es</strong>.
                    </td>
                </tr>

                <tr>
                    <td><strong>Interactivit√©</strong></td>
                    <td>
                        Le tableau offrait uniquement des <strong>liens statiques</strong> : cliquer sur une faction redirigeait vers une autre page.
                        Aucun filtrage en temps r√©el, aucune recherche instantan√©e, et aucune interaction dynamique avec le contenu.
                    </td>
                    <td>
                        L‚Äôinterface actuelle est hautement <strong>interactive et intuitive</strong> :
                        elle permet un filtrage instantan√© selon plusieurs crit√®res (faction, r√¥le, alignement, etc.),
                        une recherche textuelle, et l‚Äôaffichage simultan√© de plusieurs filtres combin√©s.
                        Tout cela s‚Äôeffectue <strong>sans rechargement de la page</strong>.
                    </td>
                </tr>

                <tr>
                    <td><strong>Langues disponibles</strong></td>
                    <td>
                        L‚Äôancienne version √©tait uniquement <strong>disponible en fran√ßais</strong>.
                        Aucun syst√®me multilingue n‚Äô√©tait pr√©vu, ce qui limitait l‚Äôaccessibilit√© du projet.
                    </td>
                    <td>
                        La version actuelle introduit un <strong>syst√®me bilingue complet (FR / EN)</strong> avec d√©tection automatique
                        de la langue de l‚Äôutilisateur et m√©morisation du choix via <code>sessionStorage</code>.
                        Cela rend l‚Äôapplication plus accessible et plus professionnelle.
                    </td>
                </tr>

                <tr>
                    <td><strong>Maintenance et √©volutivit√©</strong></td>
                    <td>
                        Toute mise √† jour demandait de <strong>modifier manuellement le code HTML</strong>.
                        Cela entra√Ænait un fort risque d‚Äôerreur humaine et un travail r√©p√©titif.
                    </td>
                    <td>
                        Gr√¢ce √† la structure modulaire du code et √† la s√©paration des donn√©es dans le JSON,
                        les mises √† jour se font automatiquement.
                        Le d√©veloppeur peut <strong>ajouter une unit√© dans le JSON</strong> et la voir appara√Ætre instantan√©ment dans le filtre.
                    </td>
                </tr>

                <tr>
                    <td><strong>Design et accessibilit√©</strong></td>
                    <td>
                        L‚Äôinterface √©tait fonctionnelle mais basique : fond noir, tableau centr√©, peu d‚Äôadaptabilit√© mobile.
                        Le design n‚Äô√©tait pas homog√®ne avec le reste du site.
                    </td>
                    <td>
                        Le design actuel reprend la <strong>charte graphique principale du projet</strong> :
                        fond bleu nuit, titres dor√©s et interface responsive.
                        Le tout est g√©r√© avec <strong>Bootstrap</strong> et <strong>Flexbox</strong> pour une compatibilit√© sur tous les √©crans.
                    </td>
                </tr>

                <tr>
                    <td><strong>Performance et chargement</strong></td>
                    <td>
                        Le chargement √©tait imm√©diat mais le fichier HTML √©tait tr√®s lourd (plus de 200 lignes).
                        Aucun traitement ou optimisation c√¥t√© client.
                    </td>
                    <td>
                        Le chargement initial lit le fichier JSON, ce qui prend un peu plus de temps,
                        mais une fois charg√©, le <strong>filtrage et l‚Äôaffichage sont instantan√©s</strong>.
                        Le code HTML est all√©g√© et d√©port√© vers du JavaScript plus efficace.
                    </td>
                </tr>

                <tr>
                    <td><strong>Avantages principaux</strong></td>
                    <td>
                        - Facile √† comprendre pour un d√©butant.<br>
                        - Fonctionne sans d√©pendance externe (ni JS, ni JSON).<br>
                        - Bon point de d√©part pour une maquette statique.
                    </td>
                    <td>
                        - Compl√®tement automatis√©e et √©volutive.<br>
                        - Exp√©rience utilisateur fluide et moderne.<br>
                        - Maintenance centralis√©e via le JSON.<br>
                        - Parfaite d√©monstration de d√©veloppement front-end dynamique.
                    </td>
                </tr>

                <tr>
                    <td><strong>Inconv√©nients principaux</strong></td>
                    <td>
                        - Tr√®s peu flexible et chronophage √† mettre √† jour.<br>
                        - Risque √©lev√© d‚Äôerreurs lors des modifications.<br>
                        - Aucune interactivit√© ni adaptation mobile.
                    </td>
                    <td>
                        - D√©pendance √† la structure JSON (toute erreur bloque le chargement).<br>
                        - Requiert de bonnes notions de JavaScript et DOM.<br>
                        - L√©g√®rement plus long √† charger lors de la premi√®re ouverture.
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <p class="mt-4">
        En r√©sum√©, cette √©volution illustre parfaitement le <strong>progr√®s technique et m√©thodologique</strong> du projet :
        le passage d‚Äôune simple page statique √† une <strong>application web dynamique</strong>,
        capable d‚Äôadapter son contenu automatiquement √† partir de donn√©es structur√©es.
        Cela d√©montre une <strong>ma√Ætrise des outils modernes du d√©veloppement web front-end</strong> :
        JavaScript, JSON, Bootstrap et DOM dynamique.
    </p>
</div>


        <!-- Retour -->
        <div class="text-center">
            <a href="projet-swgoh-wiki.html" class="btn btn-back">‚¨Ö Retour au projet</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>